<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Hello React!</title>
    <!-- 要先引入react的核心库，再引入react的dom库 -->
    <script src="../scripts/react.development.js"></script>
    <!-- 引入react-dom, 用于支持react操作DOM -->
    <script src="../scripts/react-dom.development.js"></script>
    <!-- 引入babel，用于将jsx转为js -->
    <script src="../scripts/babel.min.js"></script>
    <!-- 引入prop-types，用于对组件标签属性进行限定 -->
    <script src="../scripts/prop-types.js"></script>
</head>

<body>
    <!-- 准备一个“容器” -->
   
    <div id="example"></div>
 
    <script type="text/babel">

        /** 收集表单数据
         *  
         * 1. 受控组件
         * 2. 非受控组件
         */
    

        // 1. 受控组件
        /**
         *  1. input 原生里面有一个onchange，输入类的DOM都可以绑定它。
         *        如：勾选框，由未选中到选中就会触发onchange指定的回调。
         * 
         *  2. 下面的例子就是受控组件。
         *     a. 页面中所有输入类的DOM，如input框。随着值的输入，就能把对应的值维护到状态state中去
         *        等需要用的时候，直接从状态里面取出来。这就是受控组件。
         *     b. 受控组件类似于VUE中的双向数据绑定。
         * 
         *  3. 一般情况下，建议写 受控组件，因为 受控组件中一个ref都没有写。
         *      如果是非受控组件，有几个输入项，就需要写几个ref。 
         *     而React官网中提示我们的是，勿过度使用Refs。
         */  

        class Login extends React.Component {

            state = {
                username:'',  // 用户名
                password:''   // 密码
            }

            //表单提交的回调
            handlesubmit =(event) =>{
                event.preventDefault()   // 阻止表单提交
                const {username,password} = this.state
                console.log(username, password)                
            }

            //保存用户名到状态中
            saveUsernanme =(event)=>{
                console.log('@')
                this.setState({username:event.target.value})

            }

            // 保存密码到状态中
            savePassword =(event)=>{
                console.log('*')
                this.setState({password:event.target.value})

            }

            render () {
                return (
                    <form action="http://www.baidu.com" onSubmit={this.handlesubmit}>
                        用户名：<input onChange={this.saveUsernanme} type="text" name="username"/>&nbsp;
                        密码： <input onChange={this.savePassword}  type="password" name="password"/> &nbsp;
                        <button>登录</button>
                    </form>

                )
            }
        }
        
        // 2. 渲染组件到页面
        ReactDOM.render(
            <Login />,
            document.getElementById('example')
        );

    </script>


</body>
</html>